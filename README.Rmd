---
title: "長庚大學 大數據分析方法 作業三"
output: github_document
---

## 作業說明 （繳交時請直接刪除這個章節）

作業目的：練習初級爬蟲，並將爬蟲結果整理成資料框data.frame

依下列指示，完成網站內文分析：

- 試著爬出**至少100篇**文章（`30pt`）的**標題**、**推文數**與**作者ID**（各`10pt`）
    - 資料框欄位名稱：
        - **標題**：Title
        - **推文數**：PushNum
        - **作者ID**：Author
    - 一頁只有20篇，該怎麼辦？
        - 提示：使用for + rbind()將分批爬取出的資料結合
        - 範例：dataframeAll<-rbind(dataframe1,dataframe2) 
        - 參考：[6.6 資料組合](http://yijutseng.github.io/DataScienceRBook/manipulation.html#section-6.6)
    
- 將爬取出的資料輸出至Markdown報告中（`10pt`）
    - 使用knitr::kable(資料框物件)整理輸出
    
- 用文字搭配程式碼解釋爬蟲結果 
    - 共爬出幾篇文章標題？（程式碼與文字解釋各`5pt`）
        - dim(), nrow(), str()皆可
    - 哪個作者文章數最多？（程式碼與文字解釋各`5pt`）
        - table()
    - 其他爬蟲結果解釋（`10pt`）
        - 試著找出有趣的現象，不一定要用程式碼搭配解釋，也可只用文字

    

## 網站資料爬取
```{r}
#這是R Code Chunk
#install.packages("rvest")
#install.packages("XML")
library(rvest) ##第一次使用要先安裝 install.packages("rvest")
library(XML)
pttNBA <- c("https://www.ptt.cc/bbs/NBA/index4600.html","https://www.ptt.cc/bbs/NBA/index4601.html", "https://www.ptt.cc/bbs/NBA/index4602.html", "https://www.ptt.cc/bbs/NBA/index4603.html", "https://www.ptt.cc/bbs/NBA/index4604.html", "https://www.ptt.cc/bbs/NBA/index4605.html", "https://www.ptt.cc/bbs/NBA/index4606.html")
for(n in 1:7) {
    pttNBAContent <- read_html(pttNBA[n])
post_title <- pttNBAContent %>%
    html_nodes(".title") %>% html_text()
post_pushNum <- pttNBAContent %>%
    html_nodes(".nrec") %>% html_text()
post_author <- pttNBAContent %>%
    html_nodes(".author") %>% html_text()
if(n == 1) {
    pttNBA_postsAll <- data.frame(Title = post_title, PushNum = post_pushNum, Author = post_author)
} else {
    pttNBA_posts <- data.frame(Title = post_title, PushNum = post_pushNum, Author = post_author)  
    pttNBA_postsAll <- rbind(pttNBA_postsAll, pttNBA_posts)
  }
}
```

## 爬蟲結果呈現
```{r}
knitr::kable(
    pttNBA_postsAll[c("Title", "PushNum", "Author")])
```

## 解釋爬蟲結果 
```{r}
#這是R Code Chunk
```

解釋解釋解釋解釋

```{r}
#這是R Code Chunk
```

解釋解釋解釋解釋

人工結論與解釋解釋解釋解釋解釋解釋解釋
